"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1945],{71945:function(e,t,n){n.d(t,{R:function(){return w}});var o,r,i,a,u=n(19642),s=n(67294),l=n(133),c=n(58529),p=n(57471),f=n(62659),d=n(79016),v=n(60852),b=n(92506),x=n(35057),O=n(24198),R=n(3980),g=n(56637),S=n(9472);function h(){var e=(0,s.useState)(S.k)[0];return(0,s.useEffect)((function(){return function(){return e.dispose()}}),[e]),e}function y(e,t){var n=(0,s.useState)(e),o=n[0],r=n[1],i=(0,s.useRef)(e);return(0,v.e)((function(){i.current=e}),[e]),(0,v.e)((function(){return r(i.current)}),[i,r].concat(t)),o}function C(e,t){var n=t.resolveItems();if(n.length<=0)return null;var r=t.resolveActiveIndex(),i=null!=r?r:-1,a=function(){switch(e.focus){case o.First:return n.findIndex((function(e){return!t.resolveDisabled(e)}));case o.Previous:var r=n.slice().reverse().findIndex((function(e,n,o){return!(-1!==i&&o.length-n-1>=i)&&!t.resolveDisabled(e)}));return-1===r?r:n.length-1-r;case o.Next:return n.findIndex((function(e,n){return!(n<=i)&&!t.resolveDisabled(e)}));case o.Last:var a=n.slice().reverse().findIndex((function(e){return!t.resolveDisabled(e)}));return-1===a?a:n.length-1-a;case o.Specific:return n.findIndex((function(n){return t.resolveId(n)===e.id}));case o.Nothing:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}();return-1===a?r:a}!function(e){e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing"}(o||(o={})),function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(i||(i={})),function(e){e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.SetDisabled=2]="SetDisabled",e[e.SetOrientation=3]="SetOrientation",e[e.GoToOption=4]="GoToOption",e[e.Search=5]="Search",e[e.ClearSearch=6]="ClearSearch",e[e.RegisterOption=7]="RegisterOption",e[e.UnregisterOption=8]="UnregisterOption"}(a||(a={}));var m=((r={})[a.CloseListbox]=function(e){return e.disabled||e.listboxState===i.Closed?e:(0,u.gY)({},e,{activeOptionIndex:null,listboxState:i.Closed})},r[a.OpenListbox]=function(e){return e.disabled||e.listboxState===i.Open?e:(0,u.gY)({},e,{listboxState:i.Open})},r[a.SetDisabled]=function(e,t){return e.disabled===t.disabled?e:(0,u.gY)({},e,{disabled:t.disabled})},r[a.SetOrientation]=function(e,t){return e.orientation===t.orientation?e:(0,u.gY)({},e,{orientation:t.orientation})},r[a.GoToOption]=function(e,t){if(e.disabled)return e;if(e.listboxState===i.Closed)return e;var n=C(t,{resolveItems:function(){return e.options},resolveActiveIndex:function(){return e.activeOptionIndex},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.current.disabled}});return""===e.searchQuery&&e.activeOptionIndex===n?e:(0,u.gY)({},e,{searchQuery:"",activeOptionIndex:n})},r[a.Search]=function(e,t){if(e.disabled)return e;if(e.listboxState===i.Closed)return e;var n=e.searchQuery+t.value.toLowerCase(),o=e.options.findIndex((function(e){var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))}));return-1===o||o===e.activeOptionIndex?(0,u.gY)({},e,{searchQuery:n}):(0,u.gY)({},e,{searchQuery:n,activeOptionIndex:o})},r[a.ClearSearch]=function(e){return e.disabled||e.listboxState===i.Closed||""===e.searchQuery?e:(0,u.gY)({},e,{searchQuery:""})},r[a.RegisterOption]=function(e,t){return(0,u.gY)({},e,{options:[].concat(e.options,[{id:t.id,dataRef:t.dataRef}])})},r[a.UnregisterOption]=function(e,t){var n=e.options.slice(),o=null!==e.activeOptionIndex?n[e.activeOptionIndex]:null,r=n.findIndex((function(e){return e.id===t.id}));return-1!==r&&n.splice(r,1),(0,u.gY)({},e,{options:n,activeOptionIndex:r===e.activeOptionIndex||null===o?null:n.indexOf(o)})},r),I=(0,s.createContext)(null);function k(e){var t=(0,s.useContext)(I);if(null===t){var n=new Error("<"+e+" /> is missing a parent <"+w.name+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,k),n}return t}function L(e,t){return(0,l.E)(t.type,m,e,t)}I.displayName="ListboxContext";var D=s.Fragment;function w(e){var t,n=e.value,o=e.onChange,r=e.disabled,p=void 0!==r&&r,f=e.horizontal,d=void 0!==f&&f,b=(0,u.gK)(e,["value","onChange","disabled","horizontal"]),g=d?"horizontal":"vertical",S=(0,s.useReducer)(L,{listboxState:i.Closed,propsRef:{current:{value:n,onChange:o}},labelRef:(0,s.createRef)(),buttonRef:(0,s.createRef)(),optionsRef:(0,s.createRef)(),disabled:p,orientation:g,options:[],searchQuery:"",activeOptionIndex:null}),h=S[0],y=h.listboxState,C=h.propsRef,m=h.optionsRef,k=h.buttonRef,w=S[1];(0,v.e)((function(){C.current.value=n}),[n,C]),(0,v.e)((function(){C.current.onChange=o}),[o,C]),(0,v.e)((function(){return w({type:a.SetDisabled,disabled:p})}),[p]),(0,v.e)((function(){return w({type:a.SetOrientation,orientation:g})}),[g]),(0,O.s)("mousedown",(function(e){var t,n,o,r=e.target;y===i.Open&&((null==(t=k.current)?void 0:t.contains(r))||(null==(n=m.current)?void 0:n.contains(r))||(w({type:a.CloseListbox}),(0,x.sP)(r,x.tJ.Loose)||(e.preventDefault(),null==(o=k.current)||o.focus())))}));var T=(0,s.useMemo)((function(){return{open:y===i.Open,disabled:p}}),[y,p]);return s.createElement(I.Provider,{value:S},s.createElement(R.up,{value:(0,l.E)(y,(t={},t[i.Open]=R.ZM.Open,t[i.Closed]=R.ZM.Closed,t))},(0,c.sY)({props:b,slot:T,defaultTag:D,name:"Listbox"})))}var T=(0,c.yV)((function e(t,n){var r,l=k([w.name,e.name].join(".")),v=l[0],x=l[1],O=(0,p.T)(v.buttonRef,n),R="headlessui-listbox-button-"+(0,b.M)(),S=h(),C=(0,s.useCallback)((function(e){switch(e.key){case f.R.Space:case f.R.Enter:case f.R.ArrowDown:e.preventDefault(),x({type:a.OpenListbox}),S.nextFrame((function(){v.propsRef.current.value||x({type:a.GoToOption,focus:o.First})}));break;case f.R.ArrowUp:e.preventDefault(),x({type:a.OpenListbox}),S.nextFrame((function(){v.propsRef.current.value||x({type:a.GoToOption,focus:o.Last})}))}}),[x,v,S]),m=(0,s.useCallback)((function(e){switch(e.key){case f.R.Space:e.preventDefault()}}),[]),I=(0,s.useCallback)((function(e){if((0,d.P)(e.currentTarget))return e.preventDefault();v.listboxState===i.Open?(x({type:a.CloseListbox}),S.nextFrame((function(){var e;return null==(e=v.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),x({type:a.OpenListbox}))}),[x,S,v]),L=y((function(){if(v.labelRef.current)return[v.labelRef.current.id,R].join(" ")}),[v.labelRef.current,R]),D=(0,s.useMemo)((function(){return{open:v.listboxState===i.Open,disabled:v.disabled}}),[v]),T=t,E={ref:O,id:R,type:(0,g.f)(t,v.buttonRef),"aria-haspopup":!0,"aria-controls":null==(r=v.optionsRef.current)?void 0:r.id,"aria-expanded":v.disabled?void 0:v.listboxState===i.Open,"aria-labelledby":L,disabled:v.disabled,onKeyDown:C,onKeyUp:m,onClick:I};return(0,c.sY)({props:(0,u.gY)({},T,E),slot:D,defaultTag:"button",name:"Listbox.Button"})}));var E=c.AN.RenderStrategy|c.AN.static/,P=(0,c.yV)((function e(t,n){var r,d=k([w.name,e.name].join(".")),x=d[0],O=d[1],g=(0,p.T)(x.optionsRef,n),C="headlessui-listbox-options-"+(0,b.M)(),m=h(),I=h(),L=(0,R.oJ)(),D=null!==L?L===R.ZM.Open:x.listboxState===i.Open;(0,v.e)((function(){var e=x.optionsRef.current;e&&x.listboxState===i.Open&&e!==document.activeElement&&e.focus({preventScroll:!0})}),[x.listboxState,x.optionsRef]);var T=(0,s.useCallback)((function(e){switch(I.dispose(),e.key){case f.R.Space:if(""!==x.searchQuery)return e.preventDefault(),e.stopPropagation(),O({type:a.Search,value:e.key});case f.R.Enter:if(e.preventDefault(),e.stopPropagation(),O({type:a.CloseListbox}),null!==x.activeOptionIndex){var t=x.options[x.activeOptionIndex].dataRef;x.propsRef.current.onChange(t.current.value)}(0,S.k)().nextFrame((function(){var e;return null==(e=x.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case(0,l.E)(x.orientation,{vertical:f.R.ArrowDown,horizontal:f.R.ArrowRight}):return e.preventDefault(),e.stopPropagation(),O({type:a.GoToOption,focus:o.Next});case(0,l.E)(x.orientation,{vertical:f.R.ArrowUp,horizontal:f.R.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),O({type:a.GoToOption,focus:o.Previous});case f.R.Home:case f.R.PageUp:return e.preventDefault(),e.stopPropagation(),O({type:a.GoToOption,focus:o.First});case f.R.End:case f.R.PageDown:return e.preventDefault(),e.stopPropagation(),O({type:a.GoToOption,focus:o.Last});case f.R.Escape:return e.preventDefault(),e.stopPropagation(),O({type:a.CloseListbox}),m.nextFrame((function(){var e;return null==(e=x.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case f.R.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(O({type:a.Search,value:e.key}),I.setTimeout((function(){return O({type:a.ClearSearch})}),350))}}),[m,O,I,x]),P=y((function(){var e,t,n;return null!=(e=null==(t=x.labelRef.current)?void 0:t.id)?e:null==(n=x.buttonRef.current)?void 0:n.id}),[x.labelRef.current,x.buttonRef.current]),Y=(0,s.useMemo)((function(){return{open:x.listboxState===i.Open}}),[x]),M={"aria-activedescendant":null===x.activeOptionIndex||null==(r=x.options[x.activeOptionIndex])?void 0:r.id,"aria-labelledby":P,"aria-orientation":x.orientation,id:C,onKeyDown:T,role:"listbox",tabIndex:0,ref:g},F=t;return(0,c.sY)({props:(0,u.gY)({},F,M),slot:Y,defaultTag:"ul",features:E,visible:D,name:"Listbox.Options"})}));w.Button=T,w.Label=function e(t){var n=k([w.name,e.name].join("."))[0],o="headlessui-listbox-label-"+(0,b.M)(),r=(0,s.useCallback)((function(){var e;return null==(e=n.buttonRef.current)?void 0:e.focus({preventScroll:!0})}),[n.buttonRef]),a=(0,s.useMemo)((function(){return{open:n.listboxState===i.Open,disabled:n.disabled}}),[n]),l={ref:n.labelRef,id:o,onClick:r};return(0,c.sY)({props:(0,u.gY)({},t,l),slot:a,defaultTag:"label",name:"Listbox.Label"})},w.Options=P,w.Option=function e(t){var n=t.disabled,r=void 0!==n&&n,l=t.value,p=(0,u.gK)(t,["disabled","value"]),f=k([w.name,e.name].join(".")),d=f[0],x=f[1],O="headlessui-listbox-option-"+(0,b.M)(),R=null!==d.activeOptionIndex&&d.options[d.activeOptionIndex].id===O,g=d.propsRef.current.value===l,h=(0,s.useRef)({disabled:r,value:l});(0,v.e)((function(){h.current.disabled=r}),[h,r]),(0,v.e)((function(){h.current.value=l}),[h,l]),(0,v.e)((function(){var e,t;h.current.textValue=null==(e=document.getElementById(O))||null==(t=e.textContent)?void 0:t.toLowerCase()}),[h,O]);var y=(0,s.useCallback)((function(){return d.propsRef.current.onChange(l)}),[d.propsRef,l]);(0,v.e)((function(){return x({type:a.RegisterOption,id:O,dataRef:h}),function(){return x({type:a.UnregisterOption,id:O})}}),[h,O]),(0,v.e)((function(){var e;d.listboxState===i.Open&&g&&(x({type:a.GoToOption,focus:o.Specific,id:O}),null==(e=document.getElementById(O))||null==e.focus||e.focus())}),[d.listboxState]),(0,v.e)((function(){if(d.listboxState===i.Open&&R){var e=(0,S.k)();return e.nextFrame((function(){var e;return null==(e=document.getElementById(O))||null==e.scrollIntoView?void 0:e.scrollIntoView({block:"nearest"})})),e.dispose}}),[O,R,d.listboxState]);var C=(0,s.useCallback)((function(e){if(r)return e.preventDefault();y(),x({type:a.CloseListbox}),(0,S.k)().nextFrame((function(){var e;return null==(e=d.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))}),[x,d.buttonRef,r,y]),m=(0,s.useCallback)((function(){if(r)return x({type:a.GoToOption,focus:o.Nothing});x({type:a.GoToOption,focus:o.Specific,id:O})}),[r,O,x]),I=(0,s.useCallback)((function(){r||R||x({type:a.GoToOption,focus:o.Specific,id:O})}),[r,R,O,x]),L=(0,s.useCallback)((function(){r||R&&x({type:a.GoToOption,focus:o.Nothing})}),[r,R,x]),D=(0,s.useMemo)((function(){return{active:R,selected:g,disabled:r}}),[R,g,r]),T={id:O,role:"option",tabIndex:!0===r?void 0:-1,"aria-disabled":!0===r||void 0,"aria-selected":!0===g||void 0,disabled:void 0,onClick:C,onFocus:m,onPointerMove:I,onMouseMove:I,onPointerLeave:L,onMouseLeave:L};return(0,c.sY)({props:(0,u.gY)({},p,T),slot:D,defaultTag:"li",name:"Listbox.Option"})}}}]);